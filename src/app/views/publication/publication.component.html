<div *ngIf="publication && product && user" class="publication-container">
  <div class="publication-details">
    <h1>{{ publication.title }}</h1>
    <p>Fecha: {{ publication.dateCreated | date }}</p>
    <p>{{ publication.state.description }}</p>
  </div>

  <div class="product-section">
    <div class="product-image">
      <img [src]="product.imageUrl" alt="Product Image">
    </div>
    <div class="product-details">
      <h1>{{ product.name }}</h1>
      <p>{{ product.description }}</p>
      <p>Precio: {{ product.price | currency }}</p>
    </div>
  </div>

  <div class="user-card card">
    <span>Due√±o</span>
    <div class="card-border-top"></div>
    <div class="img">
      <img [src]="user.image" alt="Profile Picture" class="profile-img">
    </div>
    <span>{{ user.fullName }}</span>
    <p class="job">{{ user.description }}</p><br>
    <button (click)="toggleReportForm()">Reportar</button>
    <a [href]="getWhatsAppLink(user.phone)" class="btn btn-whatsapp" target="_blank">Chat via WhatsApp</a>
  </div>

  <button (click)="viewOffers(publication.idPublication)" class="btn btn-primary">Ver Ofertas</button>

  <!-- Ventana modal para reportar -->
  <div *ngIf="showReportForm" class="modal">
    <div class="modal-content">
      <span class="close" (click)="toggleReportForm()">&times;</span>
      <app-create-report></app-create-report>
    </div>
  </div>
</div>
